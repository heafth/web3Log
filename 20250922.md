package main

import "fmt"

var number int

/**
* init函数无需手动调用，在包被导入时会自动执行，执行时机在main函数之前，且在包级变量初始化之后。
* 没有参数和返回值
* 一个包中可以有多个init函数
* 同一个文件中的多个init函数按出现顺序执行
* 不同文件中的init函数执行顺序不确定（建议不要依赖此顺序）
 */
func init() {
	number = 10
	fmt.Println("1......", number)
}

func init() {
	fmt.Println("2......", number)
}

func init() {
	number = 10
	fmt.Println("3......", number)
}

func init() {
	number = 11
	fmt.Println("4......", number)
}

func main() {
	fmt.Println(number)
}

-------------------------------------------
package main

import "fmt"

/**
*func (接收者) 方法名(入参列表) (出参列表) {
    // 方法体
}
注意： 创建结构体对象时
  new(Person) 只能创建一个零值的 Person 实例（所有字段为默认零值），然后返回其指针，无法在创建时指定字段值。
  &Person{...} 可以在创建实例时直接为字段赋值，并返回指针，更灵活高效。
*/
type Person struct {
	name string
	age  int
}

func (p Person) printPersonName() {
	fmt.Println(p.name)
}

func main() {
	a := &Person{name: "杨得意", age: 18}
	a.printPersonName()

	var b = new(Person){name: "杨得意", age: 18}
	b.name = "得意洋"
	b.age = 18
	b.printPersonName()
}

-------------------------------------------

package main

import "fmt"

// 基础结构体：人
type Person struct {
	ID   string // 人员编号
	Name string // 姓名
	Age  int    // 年龄
}

// 为Person结构体定义方法
func (p *Person) Introduce() {
	fmt.Printf("大家好，我叫%s，今年%d岁。\n", p.Name, p.Age)
}

// 组合结构体：学生（嵌入Person结构体）
type Student struct {
	Person        // 嵌入Person结构体，实现组合
	School string // 学校
	ID     string // 学号
}

// 为Student结构体定义自己的方法 注意：s.ID, s.Person.ID
func (s *Student) Study() {
	fmt.Printf("%s在%s学习，学号是%s,人员编号是%s。\n", s.Name, s.School, s.ID, s.Person.ID)
}

func main() {
	// 创建学生实例
	stu := &Student{
		Person: Person{
			Name: "杨得意",
			Age:  18,
		},
		School: "阳光大学",
		ID:     "2023001",
	}

	// 可以直接访问嵌入结构体的字段
	fmt.Println("学生姓名：", stu.Name)
	fmt.Println("学生年龄：", stu.Age)
	fmt.Println("所在学校：", stu.School)

	// 可以调用嵌入结构体的方法
	stu.Introduce()

	// 调用Student自己的方法
	stu.Study()
}
